@model IEnumerable<LinkedHU_CENG.Models.Resource>

@{
    var sessionUserID = ViewData["SessionUserId"] as Int32?;
}


<div class="container p-3">
    <table class="table table-bordered table-striped" style="width:100%">

        @foreach (var obj in Model.OrderByDescending(a => a.ResourceId))
        {
            @if (sessionUserID == obj.UserId)
            {
                <div class="card border p-3 custom-shadow1">
                    <div class="custom-margin1">
                        <div class="text-end">

                            <div class="dropdown">
                                <a class="dropdown-toggle my-2 my-sm-0" href="#" role="button" data-bs-toggle="dropdown">Edit</a>

                                <div class="dropdown-menu dropdown-menu-end">
                                    <a asp-controller="Resource" asp-action="Update" asp-route-id="@obj.ResourceId"
                               class="dropdown-item mx-2 w-75"> <i class="bi bi-pencil-square"></i> Update</a>

                                    <a asp-controller="Resource" asp-action="Delete" asp-route-id="@obj.ResourceId"
                               class="dropdown-item mx-2 w-75"> <i class="bi bi-trash-fill"></i> Delete</a>

                                </div>
                            </div>

                        </div>
                        <small class="text-muted"> @obj.CreatedAt</small>
                        <h5>@obj.Title</h5>

                        @if (obj.ResourceImageName != null)
                        {
                            @*<img src="~/postUploads/@obj.ResourceImageName" class="col-sm-10 center" asp-append-version="true" width="300" height=auto />*@
                            <a href="~/resourceUploads/@obj.ResourceImageName">See & Download</a>
                        }
                        @if (obj.ResourceVideoName != null)
                        {
                            <video width="320" height="240" controls="controls">
                                <source src="~/resourcetUploads/@obj.ResourceVideoName" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                        }
                        @if (obj.ResourcePdfName != null)
                        {
                            @*<embed src="~/postUploads/@obj.ResourcePdfName" height="500px" width="100%" />*@
                            <a href="~/resourceUploads/@obj.ResourcePdfName">See & Download</a>
                        }
                        @if (obj.ResourceWordName != null)
                        {
                            @*<embed src="~/postUploads/@obj.ResourcePdfName" height="500px" width="100%" />*@
                            <a href="~/resourceUploads/@obj.ResourceWordName">See & Download</a>
                        }
                        @if (obj.ResourceExelName != null)
                        {
                            @*<embed src="~/postUploads/@obj.ResourcePdfName" height="500px" width="100%" />*@
                            <a href="~/resourceUploads/@obj.ResourceExelName">See & Download</a>
                        }
                        @if (obj.ResourcePointName != null)
                        {
                            @*<embed src="~/postUploads/@obj.ResourcePdfName" height="500px" width="100%" />*@
                            <a href="~/resourceUploads/@obj.ResourcePointName">See & Download</a>
                        }
                        <br />
                    </div>
                </div>
                <br />
            }
        }

    </table>
</div>
